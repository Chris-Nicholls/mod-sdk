<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MOD SDK</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="stylesheet" type="text/css" href="css/dashboard.css"/>
    <link rel="stylesheet" type="text/css" href="css/sdk.css"/>
    
    <!-- PEDALS -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/pedals.css"/>

    <!-- JAPANESE -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/japanese/japanese.css"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/japanese/japanese.css"/>
    
    <!-- BOXY -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/boxy/boxy.css"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/boxy/boxy.css"/>
    
    <!-- LATA -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/lata/lata.css"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/lata/lata.css"/>

    <!-- BRITISH -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/british/british.css"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/british/british.css"/>
    
    <!-- HEAD MODEL 001 -->
    <link rel="stylesheet" type="text/css" href="resources/heads/model-001/model-001.css"/>

    <!-- SLIDER -->
    <link rel="stylesheet" type="text/css" href="resources/sliders/slider01/slider.css"/>

    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/jquery-ui-1.10.1.custom.min.js"></script>
    <script src="js/sprintf-0.6.js"></script>
    <script src="js/mustache.js"></script>
    <script src="js/common.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/modgui.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/modsdk.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/wizard.js" type="text/javascript" charset="utf-8"></script>
    <script>
      {% autoescape None %}
      var TEMPLATES = {}
      defaultIconTemplate = '{{default_icon_template}}'
      defaultSettingsTemplate = '{{default_settings_template}}'
      
      wizard_db = JSON.parse('{{wizard_db}}')
    </script>
    <script src="js/templates.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    
    <!-- WRAPPER -->
    <div id="wrapper">

        <!-- PEDALBOARD -->
        <div id="pedalboard">

            <!-- PEDALBOARD-ACTIONS -->
            <div id="pedalboard-actions">

                <!-- PEDALBOARD-SETTINGS -->
                <div id="pedalboard-info">
                    <div class="title">MOD SDK</div>
		    <select id="bundle-select"></select>
		    <select id="effect-select"></select>
		    <div id="version"></div>
                    </div>
                </div>
                <!-- END PEDALBOARD-SETTINGS -->
            </div>
            <!-- END PEDALBOARD-ACTIONS -->

	    <div id="content-wrapper">
	      <ul id="menu">
		<li id="tab-icon">Icon</li>
		<li id="tab-screenshot">Icon Screenshot</li>
		<li id="tab-settings">Settings</li>
		<li id="tab-publish">Publish</li>
	      </ul>

	      <div id="content-icon" class="content">
		<div class="summary">
		  <p>This interface was rendered based on the LV2 TTL files. Every time you reload this page, proper bundle will be parsed and the layout rendered again.</p>
		  <p>You can explore some of the pedal funcionality. By moving the knobs, clicking the footswitch and dragging this pedal, you can see how these things will work once the plugin is installed.</p>
		  <p>To generate a new interface, you can use the wizard. It provides several base layouts that can either be used as final interface or customized as desired. When customizing, you can use the debug button to see what information is available for using in your template.<p>		    
		  <p>Full documentation of MOD GUI specifications is available at <a href="http://portalmod.com/ns/modgui" target="_blank">http://portalmod.com/ns/modgui</a>.</p>
		  <button id="wizard">Launch Wizard</button>
		  <button class="debug">Debug</button>
		</div>
		<div class="canvas"></div>
	      </div>

	      <div id="content-screenshot" class="content">
		<div class="summary">
		  <p>Each plugin can be represented by two images: one real-size screenshot and one thumbnail. These images are provided by mod:screenshot and mod:thumbnail LV2 properties respectively.</p>
		  <p>Here you can see these images. You can also generate them automatically, by using the button below. When you do that, the image will be automatically saved at the configured path, or at an arbitrary suggested path in case there is no configuration. So, be careful, as <b>previous images will be overwritten</b>.</p>
		  <button id="screenshot">Generate images</button>
		</div>
		<div class="canvas"></div>
	      </div>

	      <div id="content-settings" class="content">
		<p>Reserved for full plugin setup interface</p>
		<div class="canvas"></div>
	      </div>

	      <div id="content-publish" class="content">
		<div class="controls clearfix">
		  <label>Device address</label>
		  <input id="device" type="text"/>
		  <span id="device-local" data="http://localhost:8888">local</span>
		  <span id="device-quadra" data="http://192.168.50.1">quadra</span>
		</div>
		<button id="install">Install in webserver</button>
		<div class="controls clearfix">
		  <label>Cloud address</label>
		  <input id="cloud" type="text"/>
		  <span id="cloud-local" data="http://localhost:8000">local</span>
		  <span id="cloud-official" data="http://cloud-new.portalmod.com">cloud</span>
		</div>
		<div class="controls clearfix">
		  <label>Cloud developer username</label>
		  <input id="developer" type="text" value="{{default_developer}}"/>
		</div>
		<div class="controls clearfix">
		  <label>Cloud developer RSA key file</label>
		  <input id="developer" type="text" value="{{default_privkey}}"/>
		</div>
		<button id="publish">Publish at cloud</button>
	      </div>
	    </div>

	    <div id="no-bundles">
	      <h2>No bundles found!</h2>
	      <p>Inside the sdk folder, create one named <b>"workspace"</b> and put your lv2 bundles there. Every time you reload this page and as you browse, the necessary bundles will be parsed on demand</p>
	    </div>


            <!-- PEDALBOARD-DASHBOARD -->
            <div id="pedalboard-dashboard"></div>
            <!-- END PEDALBOARD-DASHBOARD -->

        </div>
        <!-- END PEDALBOARD -->

	<div id="debug-window" class="debug-popup hidden">
	  <div class="box">
	    <h1 class="box-title">DEBUG</h1>
	    Below is all information available to this plugin's template
	    <button id="debug-cancel" class="js-cancel-saving btn btn-danger">X</button>
	    <pre></pre>
	  </div>
	</div>

	<div id="wizard-window" class="wizard-popup hidden">
	  <div class="box">
	    <h1 class="box-title">Wizard</h1>
	    <div class="wizard-icon"></div>
	    <button id="wizard-cancel" class="js-cancel-saving btn btn-danger">X</button>
            <div class="controls">
	      <button id="wizard-previous" class="btn btn-success">Previous</button>
	      <button id="wizard-next" class="btn btn-success">Next</button>
            </div>

	    <div id="wizard-step-0" class="step">
              <h2>Step 1 - choose model</h2>
              <div id="model-choice">
		<div class="previous">&lt;</div>
		<h3>Model here</h3>
		<div class="next">&gt;</div>
	      </div>
	      <h4 id="color-select-title">Select color</h4>
	      <div id="color-options"></div>
	      <h4>Select panel layout</h4>
	      <ul id="panel-options" class="clearfix"></ul>
	      <div class="clearfix"></div>
	      <div id="knob-choice">
		<h4>Select knob</h4>
		<div id="knob-options"></div>
	      </div>
	    </div>

	    <div id="wizard-step-1" class="step">
	      <h2>Step 2 - configure</h2>
	      <div id="wizard-configuration">
		Label: <input name="label" type="text"/><br />
		Author: <input name="author" type="text"/><br />
		<div id="pedal-buttons"></div>
	      </div>
	    </div>

	    <div id="wizard-step-2" class="step">
	      <h2>Step 3 - edit ttl files</h2>
	      <div id="wizard-ttl-instructions">
		<p>
		  Now you have to manually edit the ttl files of this
		  effect. The following lines of code will give you the
		  desired result:
		</p>
		<textarea id="ttl-body" class="ttl-code"></textarea>
		<p>
		  And make sure you have declared the mod prefix at <b>header</b>:
		</p>
		<textarea class="ttl-code">@prefix mod: &lt;http://portalmod.com/ns/modgui#&gt;.</textarea>
	      </div>
	    </div>

	    <div id="wizard-step-3" class="step">
	      <h2>Step 4 - generate thumbnails</h2>
	      <div>
		<p>
		  If you desire, you can now generate a screenshot and thumbnail of your icon. Note that the images will be automatically saved at the location configured in ttl (you just pasted the code there) and <b>will override any other screenshots there</b>.
		</p>
		<p>
		  You can always generate these images later, without this wizerd.
		</p>
		<div id="wizard-thumbnail"></div>
		<button id="wizard-generate-thumbnail">Generate screenshots</button>
		<button id="wizard-skip-thumbnail">No, thanks</button>
	      </div>
	    </div>

	    <div id="wizard-step-4" class="step">
	      <h2>That's it!</h2>
	      <div>
		<p><b>The following files were automatically created inside your bundle:</b></p>
		<ul id="wizard-modifications"></ul>
		<p>
		  This layout is ready to be installed and published, but if you desire, 
		  you can fully customize your plugin by editing the files above.
		<p>
		<p>
		  For more information, <a href="http://portalmod.com/ns/modgui" target="_blank">read the docs</a>
		</p>
	      </div>
	    </div>

	  </div>

    </div>
    <!-- END WRAPPER -->

</body>
</html>

